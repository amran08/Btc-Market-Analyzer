<!DOCTYPE html>
<html>
<head>
    <title>Bitcoing Market Analyzer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
</head>
<body>
    <div class="container">
            <form>
                <div class="row">
                    <div class='form-group col-sm-3'>
                        <label for='percentage'>Percentage</label>
                        <input class="form-control" type="text" id="percentage">
                    </div>
                    <div class='form-group col-sm-3'>
                            <label for='tabs'>Tabs</label>
                            <input class="form-control" type="text" id="tabs">                
                    </div>
                    <div class='form-group col-sm-3'>
                        <label for='min'>Min</label>
                        <input class="form-control" type="text" id="min">
                    </div>
                    <div class="col-sm-3" style='text-align:center; padding-top:16px;'>
                        <button class='btn btn-lg btn-primary' type="submit">Go</button>
                    </div>
                </div>
            </form>
    </div>
    <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;

        let form = document.querySelector('form');
        let percentageF = document.querySelector("#percentage");
        let tabsF = document.querySelector("#tabs");
        let minF = document.querySelector('#min');

        ipcRenderer.on('clear:fields', function(){
            minF.value = tabsF.value = percentageF.value = '';
        });

        form.addEventListener('submit', function(e){
            e.preventDefault();
            console.log("Go pressed");

            ipcRenderer.send("go:calculate",
                             percentageF.value,
                             tabsF.value,
                             minF.value);
        });



    </script>
</body>
</html>